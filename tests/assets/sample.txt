scenario Brakes
# this comment should be #hidden!

{{ 
  # comment inside {} snippet -> may not work
  print({'python': 'snippet'}) 
}}


settings:
  lib = Replicator
  fps = 24
  num_scenes = 10
  up_axis = Z
  stage_meters_per_unit = 0.01
  root_path = '...'

$fps = 10

writer KittyWriter:   
  output_dir = '*/out'
  rgb = true
  semantic_segmentation = true

open '*/scenario.usd'

scale = 2

rotation = [190, 20, 300]

{
  positions = ...
}

camera_position = [100, 100, 100]
obj_position = camera_position + [100,0,0]

obj = create 5 '*/obj.blend'
edit obj:
  position = (0,0,0)
  translate x = 50
  rotation = (120, 0, 90)
  scale = (2,1,2)
  semantics = 'class:obj'
  set collider
  set mass = 150

group1 = group [cube, camera, light]
edit group1:
  scale = 100

camera = get camera 'Camera'

every frame:
  edit obj:
    set visibility = Choice([true, false])

  edit camera: 
     look_at = obj

  edit light:
    camera position = [0,0, 250]

  edit  instantiate 5 '*/props':
    position = Uniform(-10, 10)
    
